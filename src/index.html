<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta
            name="viewport"
            content="initial-scale=1.0, width=device-width, height=device-height, maximum-scale=1.0"
    />
    <title>CrystalDustPages</title>
    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="style.css" />
</head>
<body>
<button id="nav-toggle" class="nav-toggle">
    â–¼ <!-- Down arrow symbol -->
</button>
<!-- Navigation bar -->
<nav class="navbar">
    <div class="nav-logo">
        <a href="#">CrystalDustPages</a>
    </div>
    <ul class="nav-links">
        <li><a href="#about">About</a></li>
        <li><a href="#projects">Projects</a></li>
        <li><a href="#contact">Contact</a></li>
        <li><a href="#general">General</a></li>
    </ul>
    <div class="auth-buttons">
        <button id="signup-button" onclick="googleSignUp()">Sign Up</button>
        <button id="login-button" onclick="googleLogIn()">Log In</button>
        <button id="logout-button" onclick="logout()" style="display: none;">Log Out</button>
    </div>
</nav>

<div class="card">
    <img class="fill" src="https://iili.io/dr5Lhu4.jpg" alt="CrystalDust" />
    <span class="name">CrystalDust<i class="bi bi-check-circle-fill"></i></span>
    <span class="description">Editor, Writer, Art Director, Programmer Starter</span>

    <div class="soc-icons">
        <a href="https://youtube.com/channel/UCSAB2Wkv8w4kIIkd8EBIywg" aria-label="YouTube"><i class="bi bi-youtube"></i></a>
        <a href="https://github.com/CrystalDustt" aria-label="GitHub"><i class="bi bi-github"></i></a>
        <a href="https://x.com/Crystal28170953" aria-label="Twitter"><i class="bi bi-twitter"></i></a>
        <a href="https://instagram.com/@crystaldust.og" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
        <a href="https://discordapp.com/users/1124537918682304533" aria-label="Discord"><i class="bi bi-discord"></i></a>
        <a href="https://reddit.com/u/CrystalDustOG" aria-label="Reddit"><i class="bi bi-reddit"></i></a>
    </div>

    <div class="about-section">
        <span class="subtitle">About me</span>
        <p>He/him, was born on 04-11-2008</p>
        <p>Indonesian people</p>
        <p>This guy has self-explanatory behavior, although even I can't tell by myself</p>
        <p>I am currently working on some projects/tasks that I've been scheduled on</p>
    </div>

    <div class="link">
        <a href="https://crystaldustt-v2.github.io/crystaldust.github.io/general" aria-label="General">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                <path d="m10.495 6.92 1.278-.619a.483.483 0 0 0 .126-.782c-.252-.244-.682-.139-.932.107-.23.226-.513.373-.816.53l-.102.054c-.338.178-.264.626.1.736a.48.48 0 0 0 .346-.027ZM7.741 9.808V9.78a.413.413 0 1 1 .783.183l-.22.443a.6.6 0 0 1-.12.167l-.193.185a.36.36 0 1 1-.5-.516l.112-.108a.45.45 0 0 0 .138-.326M5.672 12.5l.482.233A.386.386 0 1 0 6.32 12h-.416a.7.7 0 0 1-.419-.139l-.277-.206a.302.302 0 1 0-.298.52z"/>
                <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0M1.612 10.867l.756-1.288a1 1 0 0 1 1.545-.225l1.074 1.005a.986.986 0 0 0 1.36-.011l.038-.037a.88.88 0 0 0 .26-.755c-.075-.548.37-1.033.92-1.099.728-.086 1.587-.324 1.728-.957.086-.386-.114-.83-.361-1.2-.207-.312 0-.8.374-.8.123 0 .24-.055.318-.15l.393-.474c.196-.237.491-.368.797-.403.554-.064 1.407-.277 1.583-.973.098-.391-.192-.634-.484-.88-.254-.212-.51-.426-.515-.741a7 7 0 0 1 3.425 7.692 1 1 0 0 0-.087-.063l-.316-.204a1 1 0 0 0-.977-.06l-.169.082a1 1 0 0 1-.741.051l-1.021-.329A1 1 0 0 0 11.205 9h-.165a1 1 0 0 0-.945.674l-.172.499a1 1 0 0 1-.404.514l-.802.518a1 1 0 0 0-.458.84v.455a1 1 0 0 0 1 1h.257a1 1 0 0 1 .542.16l.762.49a1 1 0 0 0 .283.126 7 7 0 0 1-9.49-3.409Z"/>
            </svg>
            General
        </a>
    </div>
</div>
<script src="script.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js"></script>
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getAuth, GoogleAuthProvider, onAuthStateChanged, signInWithPopup, signOut } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

    const firebaseConfig = {
        apiKey: "AIzaSyBeAHW9iph_ygnv9wACAlyR6ewXKH93LJ4",
        authDomain: "crystaldust-website.firebaseapp.com",
        projectId: "crystaldust-website",
        storageBucket: "crystaldust-website.firebasestorage.app",
        messagingSenderId: "663148175374",
        appId: "1:663148175374:web:33f98baec683f77b49dc5f",
        measurementId: "G-LC5GGM4PGR"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    const adminEmail = "crystal6572@gmail.com";

    document.getElementById("signup-button").addEventListener("click", googleSignUp);
    document.getElementById("login-button").addEventListener("click", googleLogIn);
    document.getElementById("logout-button").addEventListener("click", logout);

    function googleAuth() {
        const provider = new GoogleAuthProvider();
        signInWithPopup(auth, provider)
            .then((result) => {
                console.log("User signed in:", result.user);
            })
            .catch((error) => console.error("Sign-In Error:", error));
    }

    function checkAdmin(user) {
        if (user.email === adminEmail) {
            console.log("Admin logged in");
            alert("Welcome, Admin!");
        } else {
            alert("Logged in successfully.");
        }
        document.getElementById("signup-button").style.display = "none";
        document.getElementById("login-button").style.display = "none";
        document.getElementById("logout-button").style.display = "inline";
    }

    function logout() {
        signOut(auth)
            .then(() => {
                console.log("User logged out");
                document.getElementById("signup-button").style.display = "inline";
                document.getElementById("login-button").style.display = "inline";
                document.getElementById("logout-button").style.display = "none";
                alert("Logged out successfully.");
            })
            .catch((error) => console.error("Logout Error:", error.message));
    }

    // Monitor auth state on page load
    onAuthStateChanged(auth, (user) => {
        if (user) {
            checkAdmin(user);
        } else {
            document.getElementById("signup-button").style.display = "inline";
            document.getElementById("login-button").style.display = "inline";
            document.getElementById("logout-button").style.display = "none";
        }
    });
</script>
</body>
</html>
